# TinkoffInvestBot

В данном роботе реализован алгоритм торговли акциями по [стохастическому осциллятору](https://ru.wikipedia.org/wiki/%D0%A1%D1%82%D0%BE%D1%85%D0%B0%D1%81%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%BE%D1%81%D1%86%D0%B8%D0%BB%D0%BB%D1%8F%D1%82%D0%BE%D1%80) на пятиминутном таймфрейме.

Для его корректной работы необходимо установить пакеты [Pandas](https://pandas.pydata.org/), [Technical Analysis Library](https://technical-analysis-library-in-python.readthedocs.io/en/latest/), [Tinkoff Invest API ](https://github.com/Tinkoff/investAPI):

<!-- termynal -->

```
$ pip install pandas
$ pip install ta
$ pip install tinkoff-investments
```

## Настройка робота

Программный код робота состоит из следующих частей:

1. functions.py — библиотека функций робота;
2. sandbox.py — проверка торговой стратегии на исторических данных и в «песочнице»;
3. main.py — код робота для работы в «боевых» условиях.

Перед запуском робота необходимо задать значение константы TOKEN в файлах sandbox.py и main.py равное своему токену.
Для указания тикера акции используется константа INSTRUMENT_TICKER в файле functions.py. Для изменения окна (периода для расчета минимума и максимума) и периода его скользящего среднего необходимо задать требуемые значения для констант WINDOW и SMOOTH_WINDOW соответственно в файле  functions.py.
Кроме того, необходимо задать значение константы INITIAL_DIRECTION для определения первоначального направления сделки: 0, если на счете еще нет акций, или 1, если после завершения предыдущего торгового дня на счете остались акции.
Результаты работы робота фиксируются в файлах tinkoff_invest_bot.log и tinkoff_invest_bot_sandbox.log (для песочницы).

## Лицензия
[Apache 2.0](https://www.apache.org/licenses/LICENSE-2.0) ([перевод](https://designermanuals.blogspot.com/2020/06/Ru-Apache-License.html#l20RU))
## Roadmap (планы по доработке)
1. Обработка ошибок и исключений.
2. Завершение работы программы по окончании торгового дня.
3. Автоопределение направления сделки в начале торгового дня.
4. Добавление трендового индикатора для уменьшения ложных срабатываний.
5. Оптимизация программы для запуска на роутере.
